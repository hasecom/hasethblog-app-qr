(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3080:function(e,t,n){Promise.resolve().then(n.bind(n,620))},620:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var i=n(7437),s=n(6621),l=n(9933),r=()=>(0,i.jsx)(s.k,{as:"header",align:"center",justify:"space-between",p:4,bg:"blue.500",color:"white",children:(0,i.jsx)(l.X,{fontSize:"xl",children:"Amazon商品QRコードメーカー"})}),c=n(2265),u=n(3621),a=n(1504),x=n(9791);let d=(0,c.createContext)(null);var o=e=>{let{number:t}=e,[n,l]=(0,c.useState)(""),r=(0,c.useContext)(d),u=async()=>{if(!navigator.clipboard){alert("ペースト機能が、お使いの環境に対応していないか、クリップボードにコピーされていません。");return}navigator.clipboard.readText().then(e=>{l(e)}).catch(e=>{alert("ペースト機能を使うには、ブラウザの許可設定が必要です。")})};return(0,i.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",p:2,children:[(0,i.jsx)(x.I,{flex:"1",mr:2,type:"text",placeholder:"Amazonの商品リンクを入力【 ".concat(t+1," 】"),_placeholder:{fontSize:"0.75rem"},value:n,onChange:e=>{l(e.target.value),null===n?null==r||r.removeItemByIndex(t):null==r||r.changeMakeList(e.target.value,t)}}),(0,i.jsx)(a.z,{size:"sm",onClick:u,children:"ペースト"})]})},h=()=>{let[e,t]=(0,c.useState)(1),{divHeight:n,divRef:l}=j(e);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.xu,{mx:["10%","20%","30%"],width:["90%","70%"],margin:"auto",children:[(0,i.jsx)(u.xu,{overflow:3<e?"scroll":"auto",ref:l,height:n,children:Array.from({length:e},(e,t)=>(0,i.jsx)(o,{number:t},t))}),(0,i.jsx)(s.k,{justifyContent:"flex-end",mt:2,py:2,children:(0,i.jsx)(a.z,{colorScheme:"blue",variant:"outline",size:"sm",ml:"auto",py:2,px:2,onClick:()=>{if(10<=e){alert("最大10個までしか追加できません。");return}t(e+1)},children:"リンクを追加する"})})]})})};let j=e=>{let t=(0,c.useRef)(null),[n,i]=(0,c.useState)("auto");return(0,c.useEffect)(()=>{3<e?t&&t.current&&(i(t.current.clientHeight+"px"),t.current.scrollTop=t.current.scrollHeight):i("auto")},[e]),{divHeight:n,divRef:t}};var p=n(9126),m=n(2395);let g=e=>"https://www.amazon.co.jp/dp/".concat(e,"/ref=nosim?tag=").concat("test");var f=e=>{let{value:t,size:n}=e,s=g(t);return(0,i.jsx)("div",{children:(0,i.jsx)(m.ZP,{value:s,size:n||128})})},v=e=>{let{list:t}=e,n=(0,c.useContext)(d);return(0,i.jsx)(u.xu,{p:2,children:(0,i.jsxs)(s.k,{align:"center",children:[(0,i.jsx)(u.xu,{mr:2,children:(0,i.jsx)(f,{value:t.asin,size:null==n?void 0:n.settingList.qr.size})}),(0,i.jsxs)(u.xu,{children:[(null==n?void 0:n.settingList.title.display)&&(0,i.jsx)(p.x,{fontSize:"xl",children:"あああ"}),(null==n?void 0:n.settingList.price.display)&&(0,i.jsx)(p.x,{fontSize:"sm",color:"gray.500",children:"500円"})]})]})})},b=()=>{let e=(0,c.useContext)(d);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.xu,{mx:["10%","20%","30%"],width:["90%","70%"],margin:"auto",children:(0,i.jsxs)(u.xu,{position:"relative",children:[(0,i.jsx)(u.xu,{border:"2px solid #add8e6",borderRadius:"8px",overflow:"hidden",position:"relative",children:((null==e?void 0:e.makeList)||[]).filter(e=>""!==e.asin).map((e,t)=>(0,i.jsx)(v,{list:e},t))}),(0,i.jsx)(u.xu,{position:"absolute",top:"0",left:"0",background:"#add8e6",padding:"4px",borderRadius:"4px 0 0 0",children:(0,i.jsx)(p.x,{color:"white",children:"Preview"})})]})})})},z=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b,{})}),y=()=>{let[e,t]=(0,c.useState)({title:{fontColor:"blue",fontSize:"20px",display:!0},price:{display:!0},qr:{size:128}});return{settingList:e,updateSettingList:e=>{t(e)}}},S=e=>{let{children:t}=e,[n,s]=(0,c.useState)(null),{settingList:l,updateSettingList:r}=y();return(0,i.jsx)(d.Provider,{value:{makeList:n,changeMakeList:(e,t)=>{let n={asin:e,number:t};s(e=>{if(!e)return[n];let i=[...e],s=e.findIndex(e=>e.number===t);return -1!==s?i[s]=n:i.push(n),i})},removeItemByIndex:e=>{s(t=>{if(!t)return t;let n=[...t];return n.splice(e,1),n})},settingList:l,updateSettingList:r},children:t})},C=n(8402),L=n(954),w=n(6526),k=n(501),E=n(3391),I=n(1629),_=n(4159),Y=n(8610),q=n(1469),F=n(2830),R=n(8986);let N=()=>{let e=(0,c.useContext)(d),t=!e||e.settingList.title.display?"0":"1",[n,s]=(0,c.useState)(t),r=()=>{null==e||e.updateSettingList({...null==e?void 0:e.settingList,title:{...null==e?void 0:e.settingList.title,display:"0"==n}})};return(0,c.useEffect)(()=>{r()},[n]),(0,i.jsxs)(u.xu,{pt:4,children:[(0,i.jsx)(l.X,{as:"h2",size:"sm",mb:2,children:"商品名表示"}),(0,i.jsx)(q.E,{onChange:s,value:n,children:(0,i.jsxs)(F.K,{direction:"row",children:[(0,i.jsx)(R.Y,{value:"0",children:"表示"}),(0,i.jsx)(R.Y,{value:"1",children:"非表示"})]})})]})},P=()=>{let e=(0,c.useContext)(d),t=!e||e.settingList.price.display?"0":"1",[n,s]=(0,c.useState)(t),r=()=>{null==e||e.updateSettingList({...null==e?void 0:e.settingList,price:{...null==e?void 0:e.settingList.price,display:"0"==n}})};return(0,c.useEffect)(()=>{r()},[n]),(0,i.jsxs)(u.xu,{pt:4,children:[(0,i.jsx)(l.X,{as:"h2",size:"sm",mb:2,children:"価格表示"}),(0,i.jsx)(q.E,{onChange:s,value:n,children:(0,i.jsxs)(F.K,{direction:"row",children:[(0,i.jsx)(R.Y,{value:"0",children:"表示"}),(0,i.jsx)(R.Y,{value:"1",children:"非表示"})]})})]})},X=()=>{let e=(0,c.useContext)(d),t=e?e.settingList.qr.size:128,[n,s]=(0,c.useState)(t.toString()),r=()=>{null==e||e.updateSettingList({...null==e?void 0:e.settingList,qr:{...null==e?void 0:e.settingList.qr,size:parseInt(n,10)}})};return(0,c.useEffect)(()=>{r()},[n]),(0,i.jsxs)(u.xu,{pt:4,children:[(0,i.jsx)(l.X,{as:"h2",size:"sm",mb:2,children:"QRコードサイズ"}),(0,i.jsx)(q.E,{onChange:s,value:n,children:(0,i.jsxs)(F.K,{direction:"row",children:[(0,i.jsx)(R.Y,{value:"64",children:"小"}),(0,i.jsx)(R.Y,{value:"128",children:"中"}),(0,i.jsx)(R.Y,{value:"256",children:"大"})]})})]})};var A=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{}),(0,i.jsx)(P,{}),(0,i.jsx)(X,{})]}),K=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,C.q)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.z,{colorScheme:"blue",size:"md",mx:2,onClick:t,children:"詳細設定"}),(0,i.jsxs)(L.u_,{isOpen:e,onClose:n,children:[(0,i.jsx)(w.Z,{}),(0,i.jsxs)(k.h,{children:[(0,i.jsx)(E.x,{children:"詳細設定"}),(0,i.jsx)(I.o,{}),(0,i.jsx)(_.f,{children:(0,i.jsx)(A,{})}),(0,i.jsx)(Y.m,{children:(0,i.jsx)(a.z,{colorScheme:"blue",mr:3,onClick:n,children:"閉じる"})})]})]})]})},O=()=>(0,i.jsxs)(s.k,{position:"fixed",bottom:0,left:0,right:0,p:4,bg:"gray.200",justify:"center",align:"center",children:[(0,i.jsx)(a.z,{colorScheme:"gray",size:"md",mx:2,children:"使い方"}),(0,i.jsx)(K,{}),(0,i.jsx)(a.z,{colorScheme:"blue",size:"md",mx:2,children:"作成する"})]}),B=()=>(0,i.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:[(0,i.jsx)(r,{}),(0,i.jsxs)(S,{children:[(0,i.jsx)(h,{}),(0,i.jsx)(z,{}),(0,i.jsx)(O,{})]})]})}},function(e){e.O(0,[268,239,971,472,744],function(){return e(e.s=3080)}),_N_E=e.O()}]);